let filterGroups={sports:["Basketball","Volleyball","Soccer","Baseball","Tennis","Ice Rink","Skate Park","Disc Golf","Pickleball"],activities:["Canoe Rentals","Bike Rentals","Horseshoes"],fishing:["Boat Launch","Beach","Lake","Pond"],family:["Tables","Pavillion","Grills","Fire Rings","Rec Center","Other Shelter"],amenities:["Aquatics Center","Playgrounds","Trails","Grass Fields","Dog Park"]};function camelize(a){return a.replace(/(?:^\w|[A-Z]|\b\w)/g,function(a,b){return 0===b?a.toLowerCase():a.toUpperCase()}).replace(/\s+/g,"")}const attributeGetter=function(){let a=this.getAttribute("id"),b=document.getElementById("searchBar");b.value=b.value+" + '"+a+"'"};let searchArray=[],currentFilter=filterGroups.sports,listenerIDs=[];function searchBarPopLoop(){for(i=0;4>=i;i++){1===i&&(currentFilter=filterGroups.activities),2===i&&(currentFilter=filterGroups.fishing),3===i?currentFilter=filterGroups.family:4===i&&(currentFilter=filterGroups.amenities);let a=[sportsDivvy=Math.round(currentFilter.length/4),activityDivvy=Math.round(currentFilter.length/4),fishingDivvy=Math.round(currentFilter.length/4),picnicDivvy=Math.round(currentFilter.length/4),amenityDivvy=Math.round(currentFilter.length/4)],b=[sportsColumnCalc=12/a[0],activityColumnCalc=12/a[1],fishingColumnCalc=12/a[2],picnicColumnCalc=12/a[3],amenityColumnCalc=12/a[4]],c=[sportsColumnSize=2*Math.round(b[0]/2),activityColumnSize=2*Math.round(b[1]/2),fishingColumnSize=2*Math.round(b[2]/2),picnicColumnSize=2*Math.round(b[3]/2),amenityColumnSize=2*Math.round(b[4]/2)],d=[],e=[],f=a[i],g=b[i],h=c[i],j=["sports","activities","fishing","family","amenities"][i];for(console.log("currentDivvy:",f),console.log("currentCCalc:",g),console.log("currentCSize;",h),n=0;n<f;n++)$("#"+j+"Filters").append("<div class='col-md-12"+j+"column' id='"+j+"Populate"+n+"'></div>"),d.push("#"+j+"Populate"+n);for(console.log("currentIds",d),x=0;x<currentFilter.length;x++)e.push("<div class='form-check'><input class='form-check-input' type='checkbox' id='"+camelize(currentFilter[x])+"'><label class='form-check-label' for='flexCheckDefault' value=''>"+currentFilter[x]+"</label></div>"),console.log(j),console.log(currentFilter[x]);console.log("filterHTML:",e);let k=4,l=k-4;for(y=0;y<d.length;){console.log("y:",y);let a=e.slice(l,k);if($(d[y]).append(a),4>currentFilter.length-k&&0<currentFilter.length-k){let a=currentFilter.length-k;console.log("remainder:",a);let b=l+=4+a;console.log("remainderStart:",b);let c=k+=a;console.log("remainderEnd:",c);let f=e.slice(b,c);console.log("remainderSlicer:",f),0===f.length?$(d[i]).append(e[b-1]):$(d[i]).append(f)}else l>currentFilter.length&&k>currentFilter.length?(l=currentFilter.length,k=currentFilter.length):4<=currentFilter.length-k&&5<=currentFilter.length-l&&(l=k,k+=4);y++}for(z=0;z<currentFilter.length;z++){let a=camelize(currentFilter[z]);console.log("camelID:",a),listenerIDs.push("#"+a)}d=[],e=[],console.log("currentIds",d),console.log("ListenerIDs:",listenerIDs),console.log("i:",i)}}function listenerGenerator(){let a=document.getElementsByClassName("form-check-input");for(i=0;i<a.length;i++)a[i].addEventListener("click",attributeGetter)}window.onload=function(){searchBarPopLoop(),listenerGenerator()};let searchButton=document.getElementById("searchButton");const parkSearch=async a=>{a.preventDefault();let b=document.getElementById("searchBar"),c=b.value;c.includes("'basketball'")&&searchArray.push(3),c.includes("'tennis'")&&searchArray.push(20),c.includes("'volleyball'")&&searchArray.push(5),c.includes("'soccer'")&&searchArray.push(19),c.includes("'baseball'")&&searchArray.push(2),c.includes("'iceRink'")&&searchArray.push(22),c.includes("'skatePark'")&&searchArray.push(17),c.includes("'horseshoes'")&&searchArray.push(13),c.includes("'pickleball'")&&searchArray.push(23),c.includes("'discGolf'")&&searchArray.push(7),c.includes("'grills'")&&searchArray.push(4),c.includes("'tables'")&&searchArray.push(24),c.includes("'pavillion'")&&searchArray.push(25),c.includes("'otherShelter'")&&searchArray.push(15),c.includes("'fireRing'")&&searchArray.push(10),c.includes("'lake'")&&searchArray.push(26),c.includes("'boatLaunch'")&&searchArray.push(6),c.includes("'fishing'")&&searchArray.push(11),c.includes("'beach'")&&searchArray.push(27),c.includes("'playgrounds'")&&searchArray.push(16),c.includes("'trails'")&&searchArray.push(28),c.includes("'aquaticsCenter'")&&searchArray.push(1),c.includes("'canoeRentals'")&&searchArray.push(29),c.includes("'dogPark'")&&searchArray.push(8),c.includes("'recCenter'")&&searchArray.push(30),console.log("searchArray:",searchArray);{let a=await fetch("api/parks/filter-parks",{method:"POST",body:JSON.stringify({searchArray}),headers:{"Content-Type":"application/json"}}).then(a=>a.json()).then(a=>a);for(let b=0;b<a.length;b++){const c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("div"),f=document.createElement("h5"),g=document.createElement("p"),h=document.createElement("a"),j=document.createElement("i"),k=document.createElement("i");let l=a[b].name,m=a[b].address;console.log(l,m),console.log(a);const o=document.querySelector("#resultsOverflow");let p=o.appendChild(c),q=c.appendChild(d),r=d.appendChild(e),s=e.appendChild(f),t=f.appendChild(j),u=e.appendChild(g),v=g.appendChild(k),w=e.appendChild(h);p.setAttribute("class","col-md-6 "+[b]),q.setAttribute("class","card "+[b]),q.setAttribute("style","width: 16rem"),r.setAttribute("class","card-body "+[b]),s.setAttribute("class","card-title "+[b]),u.setAttribute("class","address "+[b]),w.setAttribute("href","#"),w.setAttribute("class","btn btn-primary map-btn"),w.setAttribute("id","park-btn"),w.setAttribute("data-lat",a[b].latitude),w.setAttribute("data-lng",a[b].longitude),t.setAttribute("class","fa fa-tree"),v.setAttribute("class","fa fa-road"),f.innerHTML+=l,g.innerHTML+=m,h.innerHTML+="Show on Map",e.appendChild(f),e.appendChild(g),e.appendChild(h)}}};searchButton.addEventListener("click",parkSearch);